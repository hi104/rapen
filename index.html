<!DOCTYPE html>
<html>
  <head>
    <title>rapen</title>
    <link href="stylesheets/bootstrap.css" media="all" rel="stylesheet" type="text/css" />
    <link href="stylesheets/spectrum.css" media="all" rel="stylesheet" type="text/css" />
    <link href="stylesheets/application.css" media="all" rel="stylesheet" type="text/css" />
    <link href="stylesheets/font-awesome.min.css" media="all" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.10.0/themes/base/jquery-ui.css" />

    <script src="https://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.10.0/jquery-ui.js"></script>

    <script src="javascripts/lib/underscore.js"></script>
    <script src="javascripts/lib/backbone.js"></script>
    <script src="javascripts/lib/bootstrap.js"></script>
    <script src="javascripts/lib/jquery.knob.js"></script>
    <script src="javascripts/lib/keymaster.min.js"></script>
    <script src="javascripts/lib/paper.js"></script>
    <script src="javascripts/lib/spectrum.js"></script>
    <script src="javascripts/lib/uuid.core.js"></script>

    <script src="javascripts/setup.js"></script>
    <script src="javascripts/rapen.js"></script>

  </head>
  <body>
    <div id="contextMenu" class="dropdown clearfix" style="z-index:1000">
      <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu" style="display:block;position:static;margin-bottom:5px;">
        <li><a tabindex="-1" href="#" data-action="flipX">flipX</a></li>
        <li><a tabindex="-1" href="#" data-action="flipY">flipY</a></li>
        <li class="divider"></li>
        <li><a tabindex="-1" href="#" data-action="forward">forward</a></li>
        <li><a tabindex="-1" href="#" data-action="back">back</a></li>
        <li><a tabindex="-1" href="#" data-action="top">top</a></li>
        <li><a tabindex="-1" href="#" data-action="bottom">bottom</a></li>
        <li class="divider"></li>
        <li><a tabindex="-1" href="#" data-action="group">group</a></li>
        <li><a tabindex="-1" href="#" data-action="ungroup">ungroup</a></li>
        <li><a tabindex="-1" href="#" data-action="addFolder">addFolder</a></li>
        <li class="divider"></li>
        <li><a tabindex="-1" href="#" data-action="unite">unite</a></li>
        <li><a tabindex="-1" href="#" data-action="intersect">intersect</a></li>
        <li><a tabindex="-1" href="#" data-action="subtract">subtract</a></li>
        <li><a tabindex="-1" href="#" data-action="divide">divide</a></li>
        <li><a tabindex="-1" href="#" data-action="exclude">exclude</a></li>
      </ul>
    </div>
    <div class="" style="height:100%;width:100%;">
      <div class="btn-toolbar" style="padding:5px;border-bottom:1px solid #ccc;">
        <div class="btn-group">
          <div class="btn-group">

            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
              Menu
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu">

              <li><a id="open-file-button" href="#">
                  <span class="glyphicon glyphicon-open"></span>
                  Open (.svg)</a>
              </li>
              <li><a id="open-image-file-button" href="#">
                  <span class="glyphicon glyphicon-open"></span>
                  Open Image</a>
              </li>
              <li><a id="export-button" href="#">
                  <span class="glyphicon glyphicon-export"></span>
                  Export
                </a>
              </li>
            </ul>
          </div>

        </div>

        <div class="btn-group">
          <button id="grid-button" type="button"
                  class="btn btn-default"
                  data-toggle="modal" data-target="#settingModal">
            <span class="glyphicon glyphicon-cog"></span>
          </button>
        </div>

        <div class="btn-group" style="padding:5px">
          <select id="zoom-control"></select>
        </div>

        <div class="btn-group" id="undo-redo-view">
          <button id="undo-button" type="button"
                  class="btn btn-default">
            <span class="fa fa-undo"></span>
          </button>
          <button id="redo-button" type="button"
                  class="btn btn-default">
            <span class="fa fa-repeat"></span>
          </button>
        </div>

        <div id="mode-btn-group" class="btn-group">
          <svg data-mode="control" id="control-mode-btn" width="32px" height="32px" viewBox="-40 -40 300 300" style="" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
            <g transform="matrix(1.76533 0 0 1.76533 4.91105 5.01681)"><path d="m0, 0l50,-86.6l50,86.6z" transform="matrix(0.707107 -0.707107 0.707107 0.707107 35.394 107.646)"></path><path d="M100,100L100,200L200,200L200,100z" transform="matrix(0.298282 -0.298282 0.707107 0.707107 -66.12 24.9061)"></path></g>
          </svg>
          <svg data-mode="path" id="path-mode-btn" width="32px" height="32px" viewBox="10 10 60 60" style="" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
            <g transform="matrix(1.13287 0 0 1.13287 3.53085 3.59735)"><path d="M19.85756,12.94418c0.60943,-44.41356 25.87013,-45.08462 29.41085,-95.84044L59.54369,-82.75549c4.42593,50.67988 29.94398,51.97638 29.66661,95.478c-4.89141,10.64458 -10.82024,38.46568 -12.66917,49.43488L31.07848,62.19318c-0.67847,-11.02515 -7.44085,-36.81036 -11.22092,-49.249z"  transform="matrix(-0.166295 -0.166295 0.166295 -0.166295 49.397 39.4729)"></path><path d="M100,100L100,200L200,200L200,100z"  transform="matrix(0.224959 0.224959 -0.0207503 0.0207503 -4.30993 7.5662)"></path><path transform="matrix(0.0182639 0 0 0.0182639 33.8982 51.3581)" d="m62.86963,236.11111c0,-76.31512 61.81525,-138.13037 138.13037,-138.13037c76.31512,0 138.13037,61.81525 138.13037,138.13037c0,76.31512 -61.81525,138.13037 -138.13037,138.13037c-76.31512,0 -138.13037,-61.81525 -138.13037,-138.13037z" ></path><path transform="matrix(0.0182639 0 0 0.0182639 11.4023 28.8623)" d="m62.86963,236.11111c0,-76.31512 61.81525,-138.13037 138.13037,-138.13037c76.31512,0 138.13037,61.81525 138.13037,138.13037c0,76.31512 -61.81525,138.13037 -138.13037,138.13037c-76.31512,0 -138.13037,-61.81525 -138.13037,-138.13037z" ></path></g>
          </svg>
          <svg data-mode="draw-path" id="draw-path-mode-btn" width="32px" height="32px" viewBox="0 0 32 32" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">                                              <g id="item-b6163eb0-086b-407d-8aa4-4c2068608ee7" class="svg-control-item" transform="matrix(1.64148 0 0 1.64148 -350.938 -180.171)"><path d="M177.83311,72.88797L182.20559,77.26046L172.49984,86.96622L166.37043,88.72314L168.00377,82.71731z" id="item-539ad0ef-a3a9-404f-b5e6-0f59da2f2625" class="svg-control-item" transform="matrix(1 0 0 1 49.786 38.7757)" fill-rule="evenodd"></path><path d="M100,100L99.80846,192.91309L123.28861,191.97596L123.30563,100.28448z" id="item-273b7d15-d455-4160-b625-1f9ada65e873" class="svg-control-item" transform="matrix(0.0998634 0.0998634 -0.0998634 0.0998634 227.627 92.2265)" fill="white" stroke-width="5" stroke="#000000"></path></g></svg>

          <svg data-mode="text" id="text-mode-btn" width="32px" height="32px" viewBox="-10 -10 80 80" style="" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">                 <g transform="matrix(1 0 0 1 0 0)"><path d="M5.03183,22.20168L5.68224,7.75404L56.2001,7.83624L56.76706,22.29889L55.19405,22.31895c-1.8355,-11.45581 -6.37688,-10.60413 -20.0898,-10.60413L35.16916,60.31172c-0.12766,7.41591 2.82908,7.49408 8.6047,7.52705L43.78021,69.53351L17.63067,69.53139L17.63067,67.93557c5.10221,-0.00424 8.81069,-0.14691 8.77771,-7.89614L26.47645,11.66542c-14.16519,-0.05453 -17.99423,-0.52283 -19.73918,10.49148z" transform="matrix(1 0 0 1 0.557572 -1.95154)" opacity="" fill-rule="evenodd"></path></g>              </svg>
          <svg data-mode="grad" id="grad-mode-btn" width="32px" height="32px" viewBox="120 5 100 100" style="" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
            <g transform="matrix(1.93369 0 0 1.93369 110.792 4.92459)"><rect x="0" y="0" width="100.00001192092896" height="100.00001192092896" fill="white" stroke="black" stroke-width="3" id="item-3" class="svg-control-item" transform="matrix(0.392346 0 0 0.392346 10.5189 10.0259)"></rect><path d="M100,200L200,200L200,100z" id="item-1" class="svg-control-item" transform="matrix(0.392346 0 0 0.392346 -28.7157 -29.2088)" stroke="#000000" stroke-width="0"></path></g>              </svg>
        </div>
        <div id="gradient-tool">
          <div class="btn-group" >
            <button id="linear-gradient-button" type="button"
                    class="btn btn-default">
              linear
            </button>
            <button id="radial-gradient-button" type="button"
                    class="btn btn-default">
              radial
            </button>
          </div>

          <div class="col-lg-6">
            <div class="btn-group" style="padding:5px">
              spread:
              <select id="grad-spread" style="width:80px;">
                <option>pad</option>
                <option>reflect</option>
                <option>repeat</option>
              </select>
              unit:
              <select id="grad-unit" style="width:80px;">
                <option>objectBoundingBox</option>
                <option>userSpaceOnUse</option>
              </select>
              r:
              <input id="grad-r" style="width:80px" type="number">
            </div>
          </div>
        </div>
      </div>
      <div class="" style="position:absolute;left:0px;top:50px;right:0px;bottom:0px;">
        <div class="canvas" style="position:absolute;left:100px;top:10px;right:0px;bottom:0px">
          <div class="alpha" style="height:100%;width:100%;">
            <svg id="svg-canvas-base" style="height:100%;width:100%" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
              <defs id="gradient-defs">
              </defs>
              <defs id="pattern-defs">
              </defs>
              <defs id="filter-defs">
              </defs>
              <g id="svg-canvas-grid"></g>
              <svg id="svg-canvas-wrap" style="height:100%;width:100%" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
                <defs id="item-defs"></defs>
                <g id="svg-canvas"></g>
              </svg>
              <svg id="svg-canvas-extra" style="height:100%;width:100%">
                <g id="select-line-views"></g>
                <g id="selected-view"></g>
                <g id="clone-select-line-views"></g>
                <g id="clone-control-view-wapper">
                  <g id="clone-control-view"></g>
                </g>
                <g id="clone-selected-view"></g>
                <g id="text-editor-view"></g>
                <g id="select-control-region-view"></g>
                <g id="select-path-region-view"></g>
                <g id="snap-line-view"></g>
                <g id="snap-item-view"></g>
                <g id="path-control-panel"></g>
                <g id="draw-path-control-panel"></g>
                <g id="linear-gradient-control"></g>
                <g id="radial-gradient-control"></g>
              </svg>
            </svg>
            <svg id="svg-item-tool" style="position:fixed;left:0;top:0;height:100%;width:100%;display:none" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
              <g id="item-dragging" style="opacity:0.7"></g>
            </svg>
          </div>
        </div>
        <div class="" style="border-right: 1px solid #ccc;position:absolute;top:0;left:0;height:100%;width:90px;background-color:white;">
          <div id="svg-item-list"></div>
        </div>
        <div class="" style="width:320px;height:100%;position:absolute;top:0;right:0;background-color:white;border-left: 1px solid #ccc;overflow-y:scroll">
          <div id="inspector" style="clear:both">
            <ul class="nav nav-tabs" id="panel-tabs">
              <li>
                <a href="#inspector-panel">
                  inspector
                </a>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane active" id="inspector-panel" style="height:400px;overflow-y:scroll">
                <div id="inspector-list" style=""></div>
              </div>
              <div class="inspector-action">
                <button id="add-folder-button" type="button"
                  class="btn btn-default btn-xs">
                  <span class="glyphicon glyphicon-folder-close"></span> Add Folder
                </button>
                <button id="delete-item-button" type="button"
                  class="btn btn-default btn-xs">
                  <span class="glyphicon glyphicon-trash"></span> Delete
                </button>
              </div>
            </div>
          </div>
          <div>
            <ul class="nav nav-tabs" id="panel-tabs">
              <li class="">
                <a href="#property-panel">
                  property
                </a>
              </li>
              <li class="">
                <a href="#pattern-panel">
                  pattern
                </a>
              </li>
              <li>
                <a href="#gradient-panel">
                  gradient
                </a>
              </li>
              <li>
                <a href="#filter-panel">
                  filter
                </a>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane active" id="property-panel" style="">
                <table id="property-table"></table>
              </div>
              <div class="tab-pane active" id="pattern-panel">
                <div id="pattern-items" style="background-color:#999;border:1px solid #ccc;padding:1px;height:230px;overflow-y:scroll"></div>
                <div style="padding:10px">
                  <input class="dial" data-angleOffset="90" data-cursor="true" data-height="90" data-max="360" data-min="0" data-step="-1" data-thickness=".3" data-width="70" id="pattern-rotate" type="text">
                  <div id="pattern-slider"></div>
                </div>
              </div>
              <div class="tab-pane active" id="gradient-panel">
                <div id="gradient-items" style=";border:1px solid #ccc;padding:1px;height:230px;overflow-y:scroll"></div>
                <div style="padding:10px">
                  <input class="dial" data-angleOffset="90" data-cursor="true" data-max="360" data-min="0" data-step="-1" data-thickness=".3" data-width="70" id="gradient-rotate" type="text">
                </div>
              </div>
              <div class="tab-pane active" id="filter-panel">
                <div id="filter-items" style="border:1px solid #ccc;padding:1px;height:230px;overflow-y:scroll"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="paper-js-container" style="position:none_fixed;top:0;left:0"></div>
    </div>

    <!-- Setting Modal -->
    <div class="modal" id="settingModal" tabindex="-1" role="dialog" aria-labelledby="settingModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title" id="settingModalLabel">Setting</h4>
          </div>
          <div class="modal-body">
            <form class="form-horizontal" id="grid-setting" role="form" onsubmit="return false;">
              <div class="form-group">
                <div class="col-sm-offset-1 col-sm-10">
                  <div class="checkbox">
                    <label>
                      <input id="grid-visible-checkbox" type="checkbox"> Show Grid
                    </label>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-offset-1 col-sm-2" for="gridSize">Grid Size</label>
                <input class="col-sm-2" type="number" class="form-control" id="grid-size" >
              </div>
              <div class="form-group">
                <label class="col-sm-offset-1 col-sm-2" for="gridWidth">Width</label>
                <input class="col-sm-2" type="number" class="form-control" id="grid-width" >
              </div>
              <div class="form-group">
                <label class="col-sm-offset-1 col-sm-2" for="gridHeight">Height</label>
                <input class="col-sm-2" type="number" class="form-control" id="grid-height" >
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <!-- File Modal -->
    <div class="modal" id="fileModal" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title" id="fileModalLabel">Open File</h4>
          </div>
          <div class="modal-body">
            <form class="form-horizontal" id="file-form" role="form" onsubmit="return false;">
              <div class="form-group">
                <div class="col-sm-offset-1 col-sm-10">
                  <div class="checkbox">
                    <label>
                      <input id="file-select" type="file">
                    </label>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <!-- ImageFile Modal -->
    <div class="modal" id="imageFileModal" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title" id="imageFileModalLabel">Open ImageFile</h4>
          </div>
          <div class="modal-body">
            <form class="form-horizontal" id="ImageFile-form" role="form" onsubmit="return false;">
              <div class="form-group">
                <div class="col-sm-offset-1 col-sm-10">
                  <div class="checkbox">
                    <label>
                      <input id="image-file-select" type="file">
                    </label>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

  </body>
</html>
